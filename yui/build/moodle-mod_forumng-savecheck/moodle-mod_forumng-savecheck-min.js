YUI.add("moodle-mod_forumng-savecheck",function(s,e){M.mod_forumng=M.mod_forumng||{},M.mod_forumng.savecheck={init:function(o){var i=s.all("#id_submitbutton, #id_savedraft");i.on("click",function(t){function n(e,o){var e=M.util.get_string("savefailtext","forumng",M.util.get_string(e,"forumng"));e+="["+o+"]",o={title:M.util.get_string("savefailtitle","forumng"),message:e,plugins:[s.Plugin.Drag],modal:!0},(e=s.one("body").get("winWidth"))<450&&(o.width=e-50),new M.core.alert(o).show(),t.preventDefault(),M.mod_forumng_form.finterval&&clearInterval(M.mod_forumng_form.finterval),i.set("disabled","disabled"),s.one("#id_cancel").on("click",function(e){var o=s.one("#region-main #mform1"),t=o.one("#fitem_id_message"),n=o.one("#fitem_id_attachments");t.remove(),n.remove(),o.set("method","get")})}var e={method:"POST",data:"sesskey="+M.cfg.sesskey+"&contextid="+o,on:{success:function(e,o,t){-1===o.responseText.search("ok")&&n("savefailsession",o.responseText)},failure:function(e,o,t){n("savefailnetwork",o.statusText)}},sync:!0,timeout:3e4};s.io("confirmloggedin.php",e)})}}},"@VERSION@",{requires:["base","node","io","moodle-core-notification-alert"]});