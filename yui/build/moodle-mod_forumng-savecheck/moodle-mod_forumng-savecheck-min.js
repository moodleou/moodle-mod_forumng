YUI.add("moodle-mod_forumng-savecheck",function(r,e){M.mod_forumng=M.mod_forumng||{},M.mod_forumng.savecheck={init:function(o){var i=r.all("#id_submitbutton, #id_savedraft");i.on("click",function(n){function t(){var e=M.util.get_string("savefailnetwork","forumng"),e={title:M.util.get_string("savefailtitle","forumng"),message:e,plugins:[r.Plugin.Drag],modal:!0},o=r.one("body").get("winWidth");o<450&&(e.width=o-50),new M.core.alert(e).show(),n.preventDefault(),M.mod_forumng_form.finterval&&clearInterval(M.mod_forumng_form.finterval),i.set("disabled","disabled"),r.one("#id_cancel").on("click",function(e){var o=r.one("#region-main #mform1"),n=o.one("#fitem_id_message"),t=o.one("#fitem_id_attachments");n.remove(),t.remove(),o.set("method","get")})}var e={method:"POST",data:"sesskey="+M.cfg.sesskey+"&contextid="+o,on:{success:function(e,o,n){"ok"!=o.responseText&&t()},failure:t},sync:!0,timeout:1e4};r.io("confirmloggedin.php",e)})}}},"@VERSION@",{requires:["base","node","io","moodle-core-notification-alert"]});