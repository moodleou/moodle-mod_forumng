define("forumngfeature_usage/usageloader",["exports","core/ajax"],(function(_exports,_ajax){var e;
/**
   * Javascript module loading in forumng data.
   *
   * @module      forumngfeature_usage/usageloader
   * @copyright   2024 Will Wise
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(e=_ajax)&&e.__esModule?e:{default:e};_exports.init=(name,params)=>{const container=document.querySelector(".forumngusageshow"+name);if(!container)return;let div=document.createElement("div");div.classList.add("ajaxworking"),container.append(div),_ajax.default.call([{methodname:"mod_forumng_get_usage",args:{type:name,param:params},done:function(o){if(o.responseText)try{let response=JSON.parse(o.responseText);if(response.error)return void usageloader_killspinner(!0,container);response.content&&(usageloader_killspinner(!1,container),container.innerHTML=response.content)}catch(e){usageloader_killspinner(!0,container)}else usageloader_killspinner(!0,container)},fail:function(){usageloader_killspinner(!0,container)}}])};const usageloader_killspinner=(failed,container)=>{const spinner=container.querySelector(".ajaxworking");if(spinner&&spinner.remove(),failed){const noscript=container.querySelector(".forumngusage_loader_noscript");noscript&&(noscript.style.display="block")}}}));

//# sourceMappingURL=usageloader.min.js.map