{"version":3,"file":"mod_form.min.js","sources":["../src/mod_form.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * A javascript module to enhance the mod form.\n *\n * @package mod_forumng\n * @copyright 2023 The Open University\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = (formId) => {\n    const form = document.getElementById(formId);\n    completionFormMinMax(form);\n};\n\n/**\n * Listens when the user changes the require conditions in completion\n * and toggle wordcount min max option.\n *\n * @param {HTMLElement} formElement The root form element.\n */\nconst completionFormMinMax = (formElement) => {\n    const forumngCompletionRequire = formElement.querySelectorAll('.forumng-completion-require:checked');\n    if (!forumngCompletionRequire.length) {\n        toggleHiddenClassWordcount(true);\n    }\n\n    formElement.querySelectorAll('input.forumng-completion-require').forEach(item => {\n        item.addEventListener('change', function() {\n            const forumngCompletionRequire = formElement.querySelectorAll('.forumng-completion-require:checked');\n            if (forumngCompletionRequire.length > 0) {\n                toggleHiddenClassWordcount(false);\n            } else {\n                toggleHiddenClassWordcount(true);\n            }\n        });\n    });\n};\n\n\n/**\n * Show/hide wordcount group.\n *\n * @param {Boolean} status hidden status.\n */\nconst toggleHiddenClassWordcount = (status) => {\n    const fgroupWordcountMin = document.querySelector('#fgroup_id_completionwordcountmingroup');\n    const fgroupWordcountMax = document.querySelector('#fgroup_id_completionwordcountmaxgroup');\n    if (status) {\n        fgroupWordcountMin.classList.add('hidden');\n        fgroupWordcountMax.classList.add('hidden');\n    } else {\n        fgroupWordcountMin.classList.remove('hidden');\n        fgroupWordcountMax.classList.remove('hidden');\n    }\n};\n"],"names":["formId","form","document","getElementById","completionFormMinMax","formElement","querySelectorAll","length","toggleHiddenClassWordcount","forEach","item","addEventListener","status","fgroupWordcountMin","querySelector","fgroupWordcountMax","classList","add","remove"],"mappings":"yJAuBqBA,eACXC,KAAOC,SAASC,eAAeH,QACrCI,qBAAqBH,aASnBG,qBAAwBC,cACOA,YAAYC,iBAAiB,uCAChCC,QAC1BC,4BAA2B,GAG/BH,YAAYC,iBAAiB,oCAAoCG,SAAQC,OACrEA,KAAKC,iBAAiB,UAAU,WACKN,YAAYC,iBAAiB,uCACjCC,OAAS,EAClCC,4BAA2B,GAE3BA,4BAA2B,UAYrCA,2BAA8BI,eAC1BC,mBAAqBX,SAASY,cAAc,0CAC5CC,mBAAqBb,SAASY,cAAc,0CAC9CF,QACAC,mBAAmBG,UAAUC,IAAI,UACjCF,mBAAmBC,UAAUC,IAAI,YAEjCJ,mBAAmBG,UAAUE,OAAO,UACpCH,mBAAmBC,UAAUE,OAAO"}